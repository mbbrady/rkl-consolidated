# Daily Secure Reasoning Brief – HTML Layout Draft

This sketch shows how a daily brief (e.g., 2025‑12‑05 evening) could appear on `resonantknowledgelab.org`, aligned with the existing RKL site design under `rkl-consolidated/website`.

It is written in Hugo-flavoured HTML so it can later become a `layouts/briefs/single.html` override or a partial.

## Layout Overview

- Uses the existing base layout (`_default/baseof.html`) and header.
- Content is wrapped in a main section similar to other pages:
  - Outer `<section class="strip strip-grey fade-section">`
  - Inner `<div class="container">` with RKL typography.
- A compact **view toggle bar** sits near the top of the brief.
- Content is layered with CSS classes so different audience views can be shown/hidden client-side:
  - `.view-general` – always shown in General view.
  - `.view-ml` – added in ML/Technical view.
  - `.view-full-only` – only in Full view (e.g., full references).

## Example Single-Page HTML Structure (Hugo Template Sketch)

```html
{{ define "main" }}
<section class="strip strip-grey fade-section">
  <div class="container pt-6 pb-6 pb-md-10">
    <article class="daily-brief">
      <!-- Title + meta -->
      <header class="daily-brief-header mb-4">
        <p class="eyebrow text-muted">Daily Secure Reasoning Brief</p>
        <h1 class="daily-brief-title">{{ .Title }}</h1>
        <p class="daily-brief-meta">
          {{ .Date.Format "January 2, 2006" }} ·
          Secure reasoning for organizations using cloud AI on sensitive data
        </p>
      </header>

      <!-- View toggle -->
      <div class="daily-brief-toggle mb-4">
        <span class="toggle-label">View:</span>
        <button class="toggle-pill is-active" data-view="general">General</button>
        <button class="toggle-pill" data-view="ml">ML / Technical</button>
        <button class="toggle-pill" data-view="full">Full</button>
      </div>

      <!-- General audience content -->
      <section class="daily-brief-section view-general">
        <h2>If You Use Cloud AI on Sensitive Data, Start Here</h2>
        {{/* General bullets from the public draft */}}
        {{ .Content }}
      </section>

      <!-- ML / Technical layer -->
      {{ with .Params.ml_section }}
      <section class="daily-brief-section view-ml">
        <h2>Technical Notes for ML Engineers</h2>
        {{ . | safeHTML }}
      </section>
      {{ end }}

      <!-- Full / supplemental content such as references -->
      {{ with .Params.references_html }}
      <section class="daily-brief-section view-full-only">
        <h2>References</h2>
        {{ . | safeHTML }}
      </section>
      {{ end }}

      <!-- How this brief was generated -->
      <section class="daily-brief-section view-general">
        <h2>How This Brief Was Generated</h2>
        <p>
          This daily brief is generated by the RKL Secure Reasoning Brief Agent, which scans new AI safety
          and secure reasoning research, filters for relevance, and synthesizes the most important developments.
        </p>
        <p>
          Sensitive telemetry and proprietary datasets remain on local systems only, in line with Type III secure
          reasoning principles. Treat this as a guide to what to investigate further, not a substitute for reviewing
          the underlying papers.
        </p>
      </section>
    </article>
  </div>
</section>
{{ end }}
```

## View Toggle Behaviour (CSS/JS Sketch)

- Basic idea:
  - On page load, read `?view=` from the URL or a saved preference.
  - Add a class to `<body>` or `<article>` like `view-mode-general`, `view-mode-ml`, or `view-mode-full`.
  - Use CSS to show/hide the layered sections based on that class.

### CSS Concept (to add to `static/css/rkl-custom.css`)

```css
.daily-brief-toggle {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
}
.daily-brief-toggle .toggle-pill {
  border-radius: 999px;
  border: 1px solid #d1d5db;
  padding: 0.3rem 0.9rem;
  font-size: 0.9rem;
  background: #fff;
  cursor: pointer;
}
.daily-brief-toggle .toggle-pill.is-active {
  background: #0a2342;
  color: #fff;
  border-color: #0a2342;
}

/* Default to general */
.daily-brief .view-ml,
.daily-brief .view-full-only {
  display: none;
}
body.view-mode-ml .daily-brief .view-ml {
  display: block;
}
body.view-mode-full .daily-brief .view-ml,
body.view-mode-full .daily-brief .view-full-only {
  display: block;
}
```

### JS Concept (to extend `assets/js/scripts.js`)

Pseudocode for the toggle logic:

```js
document.addEventListener("DOMContentLoaded", function () {
  const root = document.body;
  const buttons = document.querySelectorAll(".daily-brief-toggle .toggle-pill");
  if (!buttons.length) return;

  function setView(mode, updateUrl = true) {
    root.classList.remove("view-mode-general", "view-mode-ml", "view-mode-full");
    root.classList.add(`view-mode-${mode}`);
    buttons.forEach(btn => {
      btn.classList.toggle("is-active", btn.dataset.view === mode);
    });
    if (updateUrl) {
      const url = new URL(window.location);
      url.searchParams.set("view", mode);
      window.history.replaceState({}, "", url);
      window.localStorage.setItem("rklBriefView", mode);
    }
  }

  const saved = window.localStorage.getItem("rklBriefView");
  const urlView = new URL(window.location).searchParams.get("view");
  setView(urlView || saved || "general", false);

  buttons.forEach(btn => {
    btn.addEventListener("click", () => setView(btn.dataset.view));
  });
});
```

This keeps the HTML structure simple and delegates the audience-specific view to a small, reusable client-side behaviour, while preserving a single underlying document for humans, researchers, and other AI systems.

